{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["(() => {\n    const refs = {\n        formData: JSON.parse(localStorage.getItem('feedback-form-state')) || {\n            email: '',\n            message: '',\n        },\n        form: document.querySelector('.feedback-form'),\n        storageKey: 'feedback-form-state'\n    };\n\n    refs.form.elements.message.value = refs.formData.message;\n    refs.form.elements.email.value = refs.formData.email;\n\n    function saveToLocal() {\n        localStorage.setItem(refs.storageKey, JSON.stringify(refs.formData));\n    }\n\n    function handleInput(evt) {\n        refs.formData[evt.target.name] = evt.target.value.trim();\n        saveToLocal();\n    }\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        if (!refs.formData.email || !refs.formData.message) {\n            alert('Fill please all fields');\n            return;\n        }\n        console.log(refs.formData);\n        localStorage.removeItem(refs.storageKey);\n        refs.formData.email = '';\n        refs.formData.message = '';\n        refs.form.reset();\n    }\n\n    refs.form.addEventListener('input', handleInput);\n    refs.form.addEventListener('submit', handleSubmit);\n})();\n\n\n//? Old style code\n// const formData = JSON.parse(localStorage.getItem('feedback-form-state')) || {\n//     email: '',\n//     message: '',\n// };\n\n// const form = document.querySelector('.feedback-form');\n// form.elements.message.value = formData.message;\n// form.elements.email.value = formData.email;\n// const storageKey = 'feedback-form-state';\n\n// form.addEventListener('input', (evt) => {\n//     if (evt.target.name === 'email') {\n//         formData.email = evt.target.value.trim();\n//     }\n//     if (evt.target.name === 'message') {\n//         formData.message = evt.target.value.trim();\n//     }\n//     localStorage.setItem(storageKey, JSON.stringify(formData));\n// });\n\n// form.addEventListener('submit', (evt) => {\n//     evt.preventDefault();\n//     if (!formData.email || !formData.message) {\n//         alert('Fill please all fields');\n//         return;\n//     } \n//     console.log(JSON.parse(localStorage.getItem(storageKey)));\n//     localStorage.removeItem(storageKey);\n//     formData.email = '';\n//     formData.message = '';\n//     form.reset();\n// });"],"names":["refs","saveToLocal","handleInput","evt","handleSubmit"],"mappings":"qDAAC,IAAM,CACH,MAAMA,EAAO,CACT,SAAU,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,GAAK,CACjE,MAAO,GACP,QAAS,EACZ,EACD,KAAM,SAAS,cAAc,gBAAgB,EAC7C,WAAY,qBACpB,EAEIA,EAAK,KAAK,SAAS,QAAQ,MAAQA,EAAK,SAAS,QACjDA,EAAK,KAAK,SAAS,MAAM,MAAQA,EAAK,SAAS,MAE/C,SAASC,GAAc,CACnB,aAAa,QAAQD,EAAK,WAAY,KAAK,UAAUA,EAAK,QAAQ,CAAC,CACtE,CAED,SAASE,EAAYC,EAAK,CACtBH,EAAK,SAASG,EAAI,OAAO,IAAI,EAAIA,EAAI,OAAO,MAAM,OAClDF,GACH,CAED,SAASG,EAAaD,EAAK,CAEvB,GADAA,EAAI,eAAc,EACd,CAACH,EAAK,SAAS,OAAS,CAACA,EAAK,SAAS,QAAS,CAChD,MAAM,wBAAwB,EAC9B,MACH,CACD,QAAQ,IAAIA,EAAK,QAAQ,EACzB,aAAa,WAAWA,EAAK,UAAU,EACvCA,EAAK,SAAS,MAAQ,GACtBA,EAAK,SAAS,QAAU,GACxBA,EAAK,KAAK,OACb,CAEDA,EAAK,KAAK,iBAAiB,QAASE,CAAW,EAC/CF,EAAK,KAAK,iBAAiB,SAAUI,CAAY,CACrD"}